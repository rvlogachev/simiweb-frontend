(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{123:function(t,e,r){"use strict";r.r(e);var s=r(231),i=r(228),o=r(232),a=r.n(o),n=r(242),c=r(246),l=r.n(c),d=r(243),u=r(236),p=r.n(u),_={metaInfo:{title:'Справочник "Продуктов"'},layout:i.a,components:{Icon:s.a,Pagination:n.a,SearchFilter:d.a},props:{products:Object,business_orgs:Array,production_units:Array,redevs:Array,zavods:Array,filters:Object},data(){return{form:{search:this.filters.search,trashed_button:this.filters.trashed_button,business_org_code:this.filters.business_org_code,production_unit_code:this.filters.production_unit_code,zavod_code:this.filters.zavod_code,redev_code:this.filters.redev_code,is_cost_product:this.filters.is_cost_product}}},watch:{form:{handler:p()((function(){let t=l()(this.form);this.$inertia.replace(this.route("products_spr",Object.keys(t).length?t:{remember:"forget"}))}),150),deep:!0}},methods:{reset(){this.form=a()(this.form,()=>null)},destroy(){confirm("Вы действительно хотите удалить запись?")&&this.$inertia.delete(this.route("products_spr.destroy",this.product.id))},restore(){confirm("Вы действительно хотите восстановить запись?")&&this.$inertia.put(this.route("products_spr.restore",this.product.id))}}},v=r(224),f=Object(v.a)(_,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"panelTwo color-up-NN border-b w-full p-4 md:py-0 text-sm md:text-md flex justify-between items-center"},[e("div",{staticClass:"color-text-bar"},[e("inertia-link",{staticClass:"upload-button-default btn-panel",attrs:{href:t.route("all_spr.filecreate","spravochnik_products_spr")}},[e("span",[t._v("Загрузить")]),t._v(" "),e("span",{staticClass:"hidden md:inline"},[t._v("справочник")])])],1)]),t._v(" "),e("div",{staticClass:"px-4 py-8 md:p-12"},[e("h1",{staticClass:"font-bold text-3xl"},[t._v('\n      Справочник "Продукты"\n    ')]),t._v(" "),e("div",{staticClass:"mb-6 flex justify-between items-center"}),t._v(" "),e("div",{staticClass:"mb-6 flex justify-between items-center"},[e("search-filter",{staticClass:"w-full max-w-md mr-4",on:{reset:t.reset},model:{value:t.form.search,callback:function(e){t.$set(t.form,"search",e)},expression:"form.search"}},[e("label",{staticClass:"block text-gray-700"},[t._v("Бизнес-единица:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.business_org_code,expression:"form.business_org_code"}],staticClass:"mt-1 w-full form-select",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"business_org_code",e.target.multiple?r:r[0])}}},[e("option",{domProps:{value:null}},[t._v("Без фильтра")]),t._v(" "),t._l(t.business_orgs,(function(r){return e("option",{key:r.business_org_code,domProps:{value:r.business_org_code}},[t._v(t._s(r.node_name))])}))],2),t._v(" "),e("br"),t._v(" "),e("label",{staticClass:"block text-gray-700"},[t._v("Производственная единица:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.production_unit_code,expression:"form.production_unit_code"}],staticClass:"mt-1 w-full form-select",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"production_unit_code",e.target.multiple?r:r[0])}}},[e("option",{domProps:{value:null}},[t._v("Без фильтра")]),t._v(" "),t._l(t.production_units,(function(r){return e("option",{key:r.production_unit_code,domProps:{value:r.production_unit_code}},[t._v(t._s(r.node_name))])}))],2),t._v(" "),e("br"),t._v(" "),e("label",{staticClass:"block text-gray-700"},[t._v("Завод:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.zavod_code,expression:"form.zavod_code"}],staticClass:"mt-1 w-full form-select",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"zavod_code",e.target.multiple?r:r[0])}}},[e("option",{domProps:{value:null}},[t._v("Без фильтра")]),t._v(" "),t._l(t.zavods,(function(r){return e("option",{key:r.zavod_code,domProps:{value:r.zavod_code}},[t._v(t._s(r.zavod_code))])}))],2),t._v(" "),e("br"),t._v(" "),e("label",{staticClass:"block text-gray-700"},[t._v("Передел:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.redev_code,expression:"form.redev_code"}],staticClass:"mt-1 w-full form-select",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"redev_code",e.target.multiple?r:r[0])}}},[e("option",{domProps:{value:null}},[t._v("Без фильтра")]),t._v(" "),t._l(t.redevs,(function(r){return e("option",{key:r.redev_code,domProps:{value:r.redev_code}},[t._v(t._s(r.node_name))])}))],2),t._v(" "),e("br"),t._v(" "),e("label",{staticClass:"block text-gray-700"},[t._v("Товарные продукты:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.form.is_cost_product,expression:"form.is_cost_product"}],staticClass:"mt-1 w-full form-select",on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.form,"is_cost_product",e.target.multiple?r:r[0])}}},[e("option",{domProps:{value:null}},[t._v("Без фильтра")]),t._v(" "),e("option",{attrs:{value:"cost"}},[t._v("Товарные продукты")]),t._v(" "),e("option",{attrs:{value:"without"}},[t._v("Кроме товарных продуктов")])])]),t._v(" "),e("div",{staticClass:"flex"},[e("div",{staticClass:"edited"},[t._v(" Помеченные на удаление")]),t._v(" "),e("label",{staticClass:"switch place-slider"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.trashed_button,expression:"form.trashed_button"}],staticClass:"trash-checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.form.trashed_button)?t._i(t.form.trashed_button,null)>-1:t.form.trashed_button},on:{change:function(e){var r=t.form.trashed_button,s=e.target,i=!!s.checked;if(Array.isArray(r)){var o=t._i(r,null);s.checked?o<0&&t.$set(t.form,"trashed_button",r.concat([null])):o>-1&&t.$set(t.form,"trashed_button",r.slice(0,o).concat(r.slice(o+1)))}else t.$set(t.form,"trashed_button",i)}}}),t._v(" "),e("span",{staticClass:"slider round"})])]),t._v(" "),e("inertia-link",{staticClass:"btn-indigo color-NN-button",attrs:{href:t.route("products_spr.create")}},[e("span",[t._v("Добавить ")]),t._v(" "),e("span",{staticClass:"hidden md:inline"},[t._v("продукт")])])],1),t._v(" "),e("div",{staticClass:"bg-white rounded shadow overflow-x-auto"},[e("table",{staticClass:"w-full whitespace-no-wrap"},[t._m(0),t._v(" "),t._l(t.products.data,(function(r){return e("tr",{key:r.id,staticClass:"hover:bg-gray-100 focus-within:bg-gray-100"},[e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.business_org_code)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.production_unit_code)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.redev_code)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.product_code)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.product_name_sap)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.node_name)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.zavod_code)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.redev)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.node_type)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.is_cost_product)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.is_fix_content)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.fix_component_code)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.product_type)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center",attrs:{href:t.route("products_spr.view",r.id),tabindex:"-1"}},[t._v("\n              "+t._s(r.product_for)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("inertia-link",{staticClass:"px-6 py-2 flex items-center focus:text-indigo-500",attrs:{href:t.route("products_spr.view",r.id)}},[t._v("\n              "+t._s(r.coeff_minus)+"\n            ")])],1),t._v(" "),e("td",{staticClass:"border-t"},[e("a",{staticClass:"px-4 flex items-center hrli"},[t._v(" ")]),t._v(" "),e("a",{staticClass:"flex items-center hrli",attrs:{tabindex:"-1"}},[r.deleted_at?e("icon",{staticClass:"block w-6 h-6 fill-gray-400",attrs:{name:"trash",alt:"123"}}):t._e()],1)]),t._v(" "),e("td",{staticClass:"border-t"},[e("a",{staticClass:"px-4 flex items-center hrli"},[t._v(" ")]),t._v(" "),e("inertia-link",{staticClass:"flex items-center hrli",attrs:{href:t.route("products_spr.edit",r.id),tabindex:"-1"}},[e("icon",{staticClass:"block w-6 h-6 fill-gray-400",attrs:{name:"pen"}})],1)],1),t._v(" "),e("td",{staticClass:"border-t w-px"},[e("inertia-link",{staticClass:"px-4 flex items-center",attrs:{href:t.route("products_spr.view",r.id),tabindex:"-1"}},[t._v("\n              "+t._s(r.updated_at)+"\n            ")])],1)])})),t._v(" "),0===t.products.data.length?e("tr",[e("td",{staticClass:"border-t px-6 py-2",attrs:{colspan:"20"}},[t._v("В справочнике продуктов нет записей.")])]):t._e()],2)]),t._v(" "),e("pagination",{attrs:{links:t.products.links}})],1)])}),[function(){var t=this,e=t._self._c;return e("tr",{staticClass:"text-left font-bold"},[e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Код БЕ")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Код ПЕ")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Код передела")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Код продукта")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Наименование "),e("br"),t._v("продукта в SAP")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Наименование "),e("br"),t._v("продукта в модели")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Код завода")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Передел")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Тип вершины"),e("br")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Является ли"),e("br"),t._v(" товарным")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Флаг "),e("br"),t._v("фикс. содержание"),e("br"),t._v(" при создании")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Компонент, по которому"),e("br"),t._v(" фикс. содержание")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Тип продукта")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Продукт для")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Понижающий "),e("br"),t._v("коэффициент")]),t._v(" "),e("th",{staticClass:"px-1 pt-2 pb-2 border-t text-center"},[t._v("Состояние")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Меню действий")]),t._v(" "),e("th",{staticClass:"px-6 pt-2 pb-2 border-t text-center"},[t._v("Дата обновления")])])}],!1,null,null,null);e.default=f.exports},232:function(t,e,r){var s=r(249),i=r(233),o=r(250);t.exports=function(t,e){var r={};return e=o(e,3),i(t,(function(t,i,o){s(r,i,e(t,i,o))})),r}},233:function(t,e,r){var s=r(234),i=r(248);t.exports=function(t,e){return t&&s(t,e,i)}},234:function(t,e,r){var s=r(235)();t.exports=s},235:function(t,e){t.exports=function(t){return function(e,r,s){for(var i=-1,o=Object(e),a=s(e),n=a.length;n--;){var c=a[t?n:++i];if(!1===r(o[c],c,o))break}return e}}},236:function(t,e,r){var s=r(237),i=r(229);t.exports=function(t,e,r){var o=!0,a=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(r)&&(o="leading"in r?!!r.leading:o,a="trailing"in r?!!r.trailing:a),s(t,e,{leading:o,maxWait:e,trailing:a})}},237:function(t,e,r){var s=r(229),i=r(238),o=r(239),a=Math.max,n=Math.min;t.exports=function(t,e,r){var c,l,d,u,p,_,v=0,f=!1,m=!1,x=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function b(e){var r=c,s=l;return c=l=void 0,v=e,u=t.apply(s,r)}function h(t){return v=t,p=setTimeout(g,e),f?b(t):u}function C(t){var r=t-_;return void 0===_||r>=e||r<0||m&&t-v>=d}function g(){var t=i();if(C(t))return y(t);p=setTimeout(g,function(t){var r=e-(t-_);return m?n(r,d-(t-v)):r}(t))}function y(t){return p=void 0,x&&c?b(t):(c=l=void 0,u)}function w(){var t=i(),r=C(t);if(c=arguments,l=this,_=t,r){if(void 0===p)return h(_);if(m)return clearTimeout(p),p=setTimeout(g,e),b(_)}return void 0===p&&(p=setTimeout(g,e)),u}return e=o(e)||0,s(r)&&(f=!!r.leading,d=(m="maxWait"in r)?a(o(r.maxWait)||0,e):d,x="trailing"in r?!!r.trailing:x),w.cancel=function(){void 0!==p&&clearTimeout(p),v=0,c=_=l=p=void 0},w.flush=function(){return void 0===p?u:y(i())},w}},238:function(t,e,r){var s=r(245);t.exports=function(){return s.Date.now()}},239:function(t,e,r){var s=r(240),i=r(229),o=r(247),a=/^[-+]0x[0-9a-f]+$/i,n=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=s(t);var r=n.test(t);return r||c.test(t)?l(t.slice(2),r?2:8):a.test(t)?NaN:+t}},240:function(t,e,r){var s=r(241),i=/^\s+/;t.exports=function(t){return t?t.slice(0,s(t)+1).replace(i,""):t}},241:function(t,e){var r=/\s/;t.exports=function(t){for(var e=t.length;e--&&r.test(t.charAt(e)););return e}},242:function(t,e,r){"use strict";var s={props:{links:Array}},i=r(224),o=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-6 -mb-1 flex flex-wrap"},[t._l(t.links,(function(r,s){return[null===r.url?e("div",{key:s,staticClass:"mr-1 mb-1 px-4 py-3 text-sm border rounded text-gray-400",class:{"ml-auto":"Next"===r.label}},[t._v(t._s(r.label))]):e("inertia-link",{key:s,staticClass:"mr-1 mb-1 px-4 py-3 text-sm border rounded hover:bg-white focus:text-indigo-500",class:{"color-NN-button":r.active,"ml-auto":"Next"===r.label},attrs:{href:r.url}},[t._v(t._s(r.label))])]}))],2)}),[],!1,null,null,null);e.a=o.exports},243:function(t,e,r){"use strict";var s={components:{Dropdown:r(244).a},props:{value:String,maxWidth:{type:Number,default:300}}},i=r(224),o=Object(i.a)(s,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex items-center"},[e("div",{staticClass:"flex w-full bg-white shadow rounded"},[e("dropdown",{staticClass:"px-4 md:px-6 rounded-l border-r hover:bg-gray-100 focus:border-white focus:shadow-outline focus:z-10",attrs:{"auto-close":!1,placement:"bottom-start"}},[e("div",{staticClass:"flex items-baseline"},[e("span",{staticClass:"text-gray-700 hidden md:inline"},[t._v("Фильтр:")]),t._v(" "),e("svg",{staticClass:"w-2 h-2 fill-gray-700 md:ml-2",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 961.243 599.998"}},[e("path",{attrs:{d:"M239.998 239.999L0 0h961.243L721.246 240c-131.999 132-240.28 240-240.624 239.999-.345-.001-108.625-108.001-240.624-240z"}})])]),t._v(" "),e("div",{staticClass:"mt-2 px-4 py-6 w-screen shadow-xl bg-white rounded",style:{maxWidth:t.maxWidth+"px"},attrs:{slot:"dropdown"},slot:"dropdown"},[t._t("default")],2)]),t._v(" "),e("input",{staticClass:"relative w-full px-6 py-3 rounded-r focus:shadow-outline",attrs:{autocomplete:"off",type:"text",name:"search",placeholder:"Поиск…"},domProps:{value:t.value},on:{input:function(e){return t.$emit("input",e.target.value)}}})],1),t._v(" "),e("button",{staticClass:"ml-3 text-sm text-gray-500 hover:text-gray-700 focus:text-indigo-500",attrs:{type:"button"},on:{click:function(e){return t.$emit("reset")}}},[t._v("Очистить")])])}),[],!1,null,null,null);e.a=o.exports}}]);